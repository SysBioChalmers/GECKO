<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of getcarbonnum</title>
  <meta name="keywords" content="getcarbonnum">
  <meta name="description" content="getcarbonnum">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="#">src</a> &gt; <a href="#">geckomat</a> &gt; <a href="../index.html">kcat_sensitivity_analysis</a> &gt; <a href="index.html">Bayesian</a> &gt; getcarbonnum.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for src\geckomat\kcat_sensitivity_analysis\Bayesian&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>getcarbonnum
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>getcarbonnum</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function [CarbonNum,EXfors,changedmets] = getcarbonnum(model,exrxn) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> getcarbonnum
   Gets carbon numbers matching the model.

 Input:
   model           ecModel that was generated by makeEcModel, or loaded from
                   an earlier run. Not compatible with ecModels generated by
                   earlier GECKO versions (pre 3.0).
   exrxn           Exchange reaction to use for counting
 Output:
   model           ecModel</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="addCarbonNum.html" class="code" title="function model = addCarbonNum(model)">addCarbonNum</a>	addCarbonNum</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [CarbonNum,EXfors,changedmets] = getcarbonnum(model,exrxn)</a>
0002 <span class="comment">% getcarbonnum</span>
0003 <span class="comment">%   Gets carbon numbers matching the model.</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% Input:</span>
0006 <span class="comment">%   model           ecModel that was generated by makeEcModel, or loaded from</span>
0007 <span class="comment">%                   an earlier run. Not compatible with ecModels generated by</span>
0008 <span class="comment">%                   earlier GECKO versions (pre 3.0).</span>
0009 <span class="comment">%   exrxn           Exchange reaction to use for counting</span>
0010 <span class="comment">% Output:</span>
0011 <span class="comment">%   model           ecModel</span>
0012 <span class="comment">%</span>
0013 
0014 <span class="comment">% exrxn must be an exchange rxn and only contain one mets in the equation</span>
0015 [~,idx] = ismember(exrxn,model.rxns);
0016 EXmets = model.S(:,idx);
0017 <span class="comment">% find all exchange mets</span>
0018 EXmetsIdx = zeros(length(exrxn),1);
0019 <span class="keyword">for</span> k = 1:length(EXmets(1,:))
0020     EXmetsIdx(k) = find(EXmets(:,k)); <span class="comment">%</span>
0021 <span class="keyword">end</span>
0022 EXfors = model.metFormulas(EXmetsIdx);
0023 [Ematrix, elements] = getElementalComposition(EXfors,{<span class="string">'C'</span>});
0024 Ematrix = Ematrix(:,1);
0025 changedmets = exrxn(isnan(Ematrix));
0026 Ematrix(isnan(Ematrix)) = 1;
0027 CarbonNum = Ematrix';
0028 <span class="keyword">end</span></pre></div>
<hr><address>Generated by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>